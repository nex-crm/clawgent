@import "tailwindcss";

/* ============================================================
   CLAWGENT — RETRO ARCADE DESIGN SYSTEM
   Street Fighter II / CPS-1 / CRT authentic aesthetic

   Color palette sourced from CPS-1 hardware RGB555 values.
   No neon web colors. No border-radius. No glow halos.
   ============================================================ */

/* --- 1. Custom Properties (CPS-1 Authentic Palette) --------- */
:root {
  --arcade-bg: #080020;           /* Dark navy (SF2 char select bg) */
  --arcade-green: #38c830;        /* Toned CRT green (UI accents only) */
  --arcade-blue: #00a0f8;         /* SF2 Player 1 cursor blue */
  --arcade-pink: #f83078;         /* SF2 accent pink */
  --arcade-yellow: #f8d838;       /* SF2 golden yellow — dominant UI color */
  --arcade-orange: #f88800;       /* SF2 health bar mid-range */
  --arcade-purple: #7838b8;       /* Dark indigo-purple */
  --arcade-red: #d82020;          /* SF2 low-health / danger red */

  --arcade-bg-panel: #0c0030;     /* Panel bg: dark indigo */
  --arcade-border-color: #282858; /* Border: muted indigo-gray */

  /* font aliases — pixel-font class uses this */
  --font-arcade: "Press Start 2P", "Courier New", monospace;
}

/* --- 2. Tailwind v4 Theme ---------------------------------- */
@theme inline {
  --color-background: var(--arcade-bg);
  --color-foreground: #ffffff;

  --color-arcade-bg: var(--arcade-bg);
  --color-arcade-green: var(--arcade-green);
  --color-arcade-blue: var(--arcade-blue);
  --color-arcade-pink: var(--arcade-pink);
  --color-arcade-yellow: var(--arcade-yellow);
  --color-arcade-orange: var(--arcade-orange);
  --color-arcade-purple: var(--arcade-purple);
  --color-arcade-red: var(--arcade-red);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* --- 3. Body & CRT Scanline Overlay ------------------------ */
body {
  background: var(--arcade-bg);
  /* SF2 character select background: subtle dot-grid tile pattern */
  background-image:
    radial-gradient(circle at 50% 50%, rgba(40, 40, 100, 0.08) 1px, transparent 1px);
  background-size: 8px 8px;
  color: #ffffff;
  font-family: var(--font-sans, Arial, Helvetica, sans-serif);
  overflow-x: hidden;
  min-height: 100vh;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.18) 2px,
    rgba(0, 0, 0, 0.18) 4px
  );
  opacity: 0.08;
  animation: scanline-scroll 10s linear infinite;
}

/* --- 4. Keyframe Animations -------------------------------- */

/* Simple on/off blink */
@keyframes blink {
  0%, 49.9% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0;
  }
}

/* Subtle glow size oscillation */
@keyframes glow-pulse {
  0%, 100% {
    box-shadow:
      0 0 5px currentColor,
      0 0 10px currentColor;
  }
  50% {
    box-shadow:
      0 0 10px currentColor,
      0 0 20px currentColor,
      0 0 30px currentColor;
  }
}

/* Slow vertical scanline scroll */
@keyframes scanline-scroll {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100vh;
  }
}

/* Left-to-right width fill (deploy progress / health bar) */
@keyframes health-fill {
  0% {
    width: 0%;
  }
  100% {
    width: 100%;
  }
}

/* CRT screen turn-on effect */
@keyframes screen-on {
  0% {
    transform: scaleY(0) scaleX(0.5);
    opacity: 0;
  }
  40% {
    transform: scaleY(1) scaleX(0.5);
    opacity: 0.6;
  }
  60% {
    transform: scaleY(1) scaleX(0.5);
    opacity: 0.8;
  }
  100% {
    transform: scaleY(1) scaleX(1);
    opacity: 1;
  }
}

/* Gentle floating up/down */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

/* Quick horizontal shake (K.O. effect) */
@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10% {
    transform: translateX(-4px);
  }
  20% {
    transform: translateX(4px);
  }
  30% {
    transform: translateX(-4px);
  }
  40% {
    transform: translateX(4px);
  }
  50% {
    transform: translateX(-2px);
  }
  60% {
    transform: translateX(2px);
  }
  70% {
    transform: translateX(-1px);
  }
  80% {
    transform: translateX(1px);
  }
}

/* Rapid opacity flicker (old arcade screen) */
@keyframes flicker {
  0%, 100% {
    opacity: 1;
  }
  5% {
    opacity: 0.85;
  }
  10% {
    opacity: 0.95;
  }
  15% {
    opacity: 0.8;
  }
  20% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
  55% {
    opacity: 1;
  }
  70% {
    opacity: 0.88;
  }
  75% {
    opacity: 1;
  }
}

/* SF2 horizontal bar screen wipe */
@keyframes sf2-wipe {
  0% {
    clip-path: inset(0 100% 0 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
  }
}

/* --- 5. Utility Classes ------------------------------------ */

/*
 * Arcade text — CRT phosphor-mask shadow, NOT neon glow.
 * SF2 text is sharp bitmap with slight drop shadow from the
 * CRT shadow mask. No colored halo. No multi-layer glow.
 */
.arcade-text {
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
}

/* For high-intensity moments (FIGHT!, ONLINE!, K.O.) only */
.arcade-text-flash {
  text-shadow:
    0 0 8px rgba(255, 255, 255, 0.8),
    1px 1px 2px rgba(0, 0, 0, 0.6);
}

/* Neon border with glow shadow */
.arcade-border {
  border: 3px solid currentColor;
  box-shadow:
    0 0 6px currentColor,
    inset 0 0 6px rgba(0, 0, 0, 0.3);
}

/* Dark panel with border — indigo-tinted, no border-radius */
.arcade-panel {
  background: var(--arcade-bg-panel);
  border: 2px solid var(--arcade-border-color);
  box-shadow:
    0 0 8px rgba(0, 32, 80, 0.15),
    inset 0 0 12px rgba(0, 0, 0, 0.6);
  border-radius: 0;
}

/* Arcade button — yellow default (SF2 dominant UI color) */
.arcade-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1.5rem;
  font-family: var(--font-arcade);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: var(--arcade-yellow);
  background: transparent;
  border: 2px solid var(--arcade-yellow);
  cursor: pointer;
  transition: all 0.15s ease;
  position: relative;
}

.arcade-btn:hover {
  box-shadow:
    0 0 8px var(--arcade-yellow),
    0 0 16px var(--arcade-yellow),
    inset 0 0 8px rgba(248, 216, 56, 0.1);
  transform: scale(1.03);
  text-shadow: 0 0 4px var(--arcade-yellow);
}

.arcade-btn:active {
  transform: scale(0.97);
}

/* Arcade input — blue border, white text, no rounding */
.arcade-input {
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid var(--arcade-blue);
  color: #f8f8f8;
  font-family: var(--font-mono, "Courier New", monospace);
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  outline: none;
  border-radius: 0;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.arcade-input::placeholder {
  color: rgba(0, 160, 248, 0.35);
}

.arcade-input:focus {
  border-color: var(--arcade-yellow);
  box-shadow:
    0 0 6px var(--arcade-yellow),
    0 0 12px rgba(248, 216, 56, 0.2);
}

/* CRT overlay (can apply to individual elements) */
.crt-overlay {
  position: relative;
}

.crt-overlay::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.12) 2px,
    rgba(0, 0, 0, 0.12) 4px
  );
  opacity: 0.06;
  border-radius: inherit;
}

/* Pixel font class */
.pixel-font {
  font-family: var(--font-arcade);
}

/*
 * Health bar / deploy progress
 * SF2 health bars: solid yellow (#f8d800), segmented with 1px gaps,
 * no gradient, no rounded corners. Steps to orange then red as it
 * depletes (handled via JS class swap, not gradient).
 */
.health-bar {
  height: 100%;
  background-color: #f8d800;
  background-image: repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 4px,
    rgba(0, 0, 0, 0.3) 4px,
    rgba(0, 0, 0, 0.3) 5px
  );
  animation: health-fill 2s ease-out forwards;
  border-radius: 0;
}

/* SF2 screen wipe transition utility */
.sf2-wipe-in {
  animation: sf2-wipe 0.4s ease-out forwards;
}

/* Animation utility classes */
.blink {
  animation: blink 1s step-end infinite;
}

.glow {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* --- 6. SF2 Character Select -------------------------------- */

/*
 * Animated selector cursor corners.
 * SF2 cursor: L-shaped corner brackets that blink at ~15fps
 * (every 5 frames). Real timing: ~0.33s with step-end.
 */
.sf2-cursor {
  position: absolute;
  width: 10px;
  height: 10px;
  border-style: solid;
  border-width: 0;
  animation: sf2-blink 0.33s step-end infinite;
  pointer-events: none;
  z-index: 10;
}

.sf2-cursor-tl {
  top: -2px;
  left: -2px;
  border-top-width: 3px;
  border-left-width: 3px;
}

.sf2-cursor-tr {
  top: -2px;
  right: -2px;
  border-top-width: 3px;
  border-right-width: 3px;
}

.sf2-cursor-bl {
  bottom: -2px;
  left: -2px;
  border-bottom-width: 3px;
  border-left-width: 3px;
}

.sf2-cursor-br {
  bottom: -2px;
  right: -2px;
  border-bottom-width: 3px;
  border-right-width: 3px;
}

@keyframes sf2-blink {
  0%, 59% {
    opacity: 1;
  }
  60%, 100% {
    opacity: 0.3;
  }
}

/* --- 7. Skill Tags & Detail Panel -------------------------- */

/* Skill tag hover effect */
.skill-tag {
  position: relative;
}

.skill-tag:hover {
  filter: brightness(1.3);
  transform: translateY(-1px);
}

.skill-tag:active {
  transform: translateY(0);
}

/* Skill detail panel slide-in */
.skill-detail-panel {
  animation: skill-panel-in 0.2s ease-out;
}

@keyframes skill-panel-in {
  0% {
    opacity: 0;
    max-height: 0;
    padding-top: 0;
    padding-bottom: 0;
    margin-bottom: 0;
  }
  100% {
    opacity: 1;
    max-height: 200px;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
    margin-bottom: 1rem;
  }
}

/* --- 8. Scrollbar Styling ---------------------------------- */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--arcade-blue) #0c0030;
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: #0c0030;
}

*::-webkit-scrollbar-thumb {
  background: var(--arcade-blue);
  border-radius: 0;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--arcade-yellow);
}

/* --- 9. Sound Mute Toggle Button -------------------------- */

/*
 * Fixed top-right speaker button. Pixel-art style, minimal footprint.
 * Sits above the CRT scanline overlay (z-index 10000).
 */
.sound-mute-btn {
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 10000;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid var(--arcade-border-color);
  cursor: pointer;
  transition: border-color 0.15s ease, background 0.15s ease;
  padding: 0;
  border-radius: 0;
}

.sound-mute-btn:hover {
  border-color: var(--arcade-yellow);
  background: rgba(0, 0, 0, 0.8);
}

.sound-mute-btn:active {
  transform: scale(0.92);
}

.sound-mute-icon {
  font-size: 16px;
  line-height: 1;
  filter: brightness(0.9);
}

.sound-mute-btn:hover .sound-mute-icon {
  filter: brightness(1.2);
}

/* --- 10. Agent Cards & Add Agent Button --------------------- */

/*
 * Agent roster cards — mini SF2-style portrait cards.
 * Thick left accent border, dark panel background, hover glow.
 */
.agent-card {
  background: var(--arcade-bg-panel);
  border: 2px solid var(--arcade-border-color);
  border-left-width: 4px;
  transition: all 0.15s ease;
  position: relative;
}

.agent-card:hover {
  background: rgba(12, 0, 48, 0.9);
  box-shadow:
    0 0 8px rgba(0, 32, 80, 0.3),
    inset 0 0 12px rgba(0, 0, 0, 0.4);
}

/* OPEN button on agent cards */
.agent-card-open-btn {
  border: 1px solid;
  background: transparent;
  cursor: pointer;
}

.agent-card-open-btn:hover {
  filter: brightness(1.3);
  transform: scale(1.05);
}

.agent-card-open-btn:active {
  transform: scale(0.95);
}

/* Remove (X) button on agent cards */
.agent-card-remove-btn {
  opacity: 0;
  background: transparent;
  border: none;
}

.agent-card:hover .agent-card-remove-btn {
  opacity: 1;
}

/*
 * ADD AGENT button — coin-insert arcade energy.
 * Golden border with pulsing glow, like the "INSERT COIN" prompt.
 */
.add-agent-btn {
  background: transparent;
  border: 3px solid var(--arcade-yellow);
  color: var(--arcade-yellow);
  letter-spacing: 0.15em;
  position: relative;
  overflow: hidden;
}

.add-agent-btn:hover:not(:disabled) {
  background: rgba(248, 216, 56, 0.08);
  box-shadow:
    0 0 12px var(--arcade-yellow),
    0 0 24px rgba(248, 216, 56, 0.3),
    inset 0 0 12px rgba(248, 216, 56, 0.05);
  transform: scale(1.02);
  text-shadow: 0 0 6px var(--arcade-yellow);
}

.add-agent-btn:active:not(:disabled) {
  transform: scale(0.98);
}

/* Animated shine sweep across the button */
.add-agent-btn::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(248, 216, 56, 0.12),
    transparent
  );
  animation: add-agent-shine 3s ease-in-out infinite;
}

@keyframes add-agent-shine {
  0% {
    left: -100%;
  }
  50% {
    left: 150%;
  }
  100% {
    left: 150%;
  }
}

/* --- 11. Selection Styling ---------------------------------- */
::selection {
  background: var(--arcade-yellow);
  color: #000000;
}

::-moz-selection {
  background: var(--arcade-yellow);
  color: #000000;
}
