# OpenClaw container image for Clawgent instances
# Rebuilt on each deploy to pick up the latest OpenClaw version
FROM node:22-bookworm-slim

RUN apt-get update && apt-get install -y --no-install-recommends \
    ca-certificates curl bash git && \
    rm -rf /var/lib/apt/lists/*

# Install OpenClaw globally
RUN npm install -g openclaw@latest

# Create openclaw data directory
RUN mkdir -p /home/node/.openclaw && chown -R node:node /home/node/.openclaw

USER node
WORKDIR /home/node

EXPOSE 18789
